<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gracelordsocialhub - Social Media Marketplace</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@800;900&display=swap" rel="stylesheet">
    <style>
        /* Dark Theme Color Scheme */
        :root {
            --primary: #8B5DFF;  /* Purple */
            --secondary: #FF7E5F; /* Coral */
            --accent: #3BD4AE;   /* Teal */
            --dark: #121212;     /* Dark background */
            --darker: #0a0a0a;   /* Even darker */
            --light: #1E1E1E;    /* Light dark */
            --gray: #8C8FA6;     /* Gray text */
            --light-gray: #E0E0E0; /* Light text */
            --success: #3BD4AE;  /* Teal for success */
            --danger: #FF5E7D;   /* Pink for danger */
            --facebook: #1877F2;
            --twitter: #1DA1F2;
            --instagram: #E4405F;
            --whatsapp: #25D366;
            --tiktok: #000000;
            --vpn: #FF9800;      /* Orange for VPN */
            --icloud-us: #007AFF; /* Blue for US iCloud */
            --icloud-ng: #34C759; /* Green for Nigeria iCloud */
            --tools: #9C27B0;    /* Purple for Tools */
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, var(--dark) 0%, var(--darker) 100%);
            color: var(--light-gray);
            line-height: 1.6;
            padding-bottom: 80px;
            padding-top: 60px;
            overflow-x: hidden;
            min-height: 100vh;
        }
        
        /* Mobile App Header */
        .app-header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, var(--primary), #6a3fd8);
            color: white;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
        }
        
        .logo-icon {
            font-size: 28px;
            color: var(--secondary);
            margin-right: 10px;
        }
        
        .logo-text {
            font-family: 'Montserrat', sans-serif;
            font-size: 20px;
            font-weight: 900;
            letter-spacing: 0.5px;
            background: linear-gradient(to right, white, var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
        }
        
        .header-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .header-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* Admin badge */
        .admin-badge {
            background: var(--secondary);
            color: white;
            font-size: 10px;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 5px;
            font-weight: 600;
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--light);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            border-top: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--gray);
            font-size: 12px;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .nav-item.active {
            color: var(--primary);
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }
        
        /* Main Content */
        .page {
            display: none;
            padding: 15px;
            animation: fadeIn 0.3s ease;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .section-title {
            margin: 20px 0 15px;
            color: var(--light-gray);
        }
        
        .section-title h2 {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 5px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .section-title p {
            color: var(--gray);
            font-size: 14px;
        }
        
        /* Social Media Accounts Grid */
        .accounts-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .account-card {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 1px solid rgba(139, 93, 255, 0.1);
            position: relative;
        }
        
        .account-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(139, 93, 255, 0.25);
        }
        
        .account-image {
            width: 100%;
            height: 140px;
            object-fit: cover;
            border-bottom: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .account-platform {
            padding: 15px 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .platform-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }
        
        .facebook-icon { background: var(--facebook); }
        .twitter-icon { background: var(--twitter); }
        .instagram-icon { background: var(--instagram); }
        .vpn-icon { background: var(--vpn); }
        .tiktok-icon { background: var(--tiktok); }
        .icloud-us-icon { background: var(--icloud-us); }
        .icloud-ng-icon { background: var(--icloud-ng); }
        .tools-icon { background: var(--tools); }
        
        .platform-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--light-gray);
        }
        
        .account-info {
            padding: 10px 15px 15px;
        }
        
        .account-info h3 {
            font-size: 14px;
            margin-bottom: 5px;
            color: var(--gray);
        }
        
        .account-info p {
            color: var(--light-gray);
            font-size: 16px;
            font-weight: 500;
            margin-bottom: 10px;
            word-break: break-all;
        }
        
        .account-details {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 15px;
        }
        
        .account-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .price {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary);
        }
        
        .buy-account {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 5px;
            padding: 6px 12px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .buy-account:hover {
            background: linear-gradient(to right, var(--secondary), var(--primary));
        }
        
        /* Delete button for admin */
        .delete-account-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 94, 125, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 10;
        }
        
        .delete-account-btn:hover {
            background: rgba(255, 94, 125, 1);
            transform: scale(1.1);
        }
        
        /* Cart Page */
        .cart-items {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            border: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .cart-item {
            display: flex;
            padding: 15px;
            border-bottom: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .cart-item:last-child {
            border-bottom: none;
        }
        
        .cart-item-image {
            width: 70px;
            height: 70px;
            object-fit: cover;
            border-radius: 8px;
            margin-right: 15px;
        }
        
        .cart-item-platform {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            margin-right: 10px;
        }
        
        .cart-item-details {
            flex: 1;
        }
        
        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--light-gray);
        }
        
        .cart-item-account {
            color: var(--gray);
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            color: var(--primary);
            font-weight: 700;
            font-size: 16px;
        }
        
        .cart-summary {
            background: var(--light);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            color: var(--light-gray);
        }
        
        .summary-total {
            font-size: 20px;
            font-weight: 700;
            color: var(--light-gray);
            border-top: 1px solid rgba(139, 93, 255, 0.1);
            padding-top: 10px;
            margin-top: 10px;
        }
        
        .checkout-btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            margin-top: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .checkout-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(139, 93, 255, 0.3);
        }
        
        /* Upload Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(18, 18, 18, 0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-content {
            background: var(--light);
            border-radius: 15px;
            padding: 20px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            border: 2px solid var(--primary);
            color: var(--light-gray);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-header h3 {
            color: var(--primary);
            font-size: 20px;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }
        
        .upload-form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--light-gray);
            font-size: 14px;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            padding: 12px;
            border: 1px solid rgba(139, 93, 255, 0.2);
            border-radius: 8px;
            font-family: 'Poppins', sans-serif;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.05);
            color: var(--light-gray);
        }
        
        .form-group textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .submit-btn {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(139, 93, 255, 0.3);
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
            background: var(--light);
            border-radius: 12px;
            border: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .empty-icon {
            font-size: 50px;
            color: rgba(139, 93, 255, 0.2);
            margin-bottom: 15px;
        }
        
        /* Account Tabs */
        .account-tabs {
            display: flex;
            background: var(--light);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            background: none;
            border: none;
            font-family: 'Poppins', sans-serif;
            font-weight: 500;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
        }
        
        /* Login/Register Pages */
        .auth-page {
            max-width: 400px;
            margin: 0 auto;
            padding-top: 30px;
        }
        
        .auth-form {
            background: var(--light);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(139, 93, 255, 0.1);
            color: var(--light-gray);
        }
        
        .auth-title {
            text-align: center;
            margin-bottom: 25px;
            color: var(--light-gray);
        }
        
        .auth-title h2 {
            font-size: 24px;
            margin-bottom: 5px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .auth-title p {
            color: var(--gray);
            font-size: 14px;
        }
        
        .auth-switch {
            text-align: center;
            margin-top: 20px;
            color: var(--gray);
        }
        
        .auth-link {
            color: var(--primary);
            font-weight: 600;
            text-decoration: none;
        }
        
        .auth-link:hover {
            text-decoration: underline;
        }
        
        /* Profile Page */
        .profile-card {
            background: var(--light);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            border: 1px solid rgba(139, 93, 255, 0.1);
            color: var(--light-gray);
        }
        
        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
            font-weight: 700;
            margin-right: 20px;
        }
        
        .profile-info h3 {
            font-size: 20px;
            color: var(--light-gray);
            margin-bottom: 5px;
        }
        
        .profile-info p {
            color: var(--gray);
            font-size: 14px;
        }
        
        .profile-details {
            border-top: 1px solid rgba(139, 93, 255, 0.1);
            padding-top: 20px;
        }
        
        .detail-row {
            display: flex;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .detail-label {
            flex: 0 0 120px;
            font-weight: 600;
            color: var(--light-gray);
        }
        
        .detail-value {
            flex: 1;
            color: var(--gray);
        }
        
        .logout-btn {
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .logout-btn:hover {
            background: #ff4757;
        }
        
        /* Platform Selection */
        .platform-selection {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .platform-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .platform-option.selected {
            border-color: var(--primary);
            background: rgba(139, 93, 255, 0.1);
        }
        
        .platform-option-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            margin-bottom: 10px;
        }
        
        .platform-option-name {
            font-size: 12px;
            font-weight: 500;
            color: var(--light-gray);
        }
        
        /* Responsive */
        @media (max-width: 350px) {
            .accounts-grid {
                grid-template-columns: 1fr;
            }
            .platform-selection {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        /* Account Age Indicator */
        .account-age {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(45, 48, 71, 0.8);
            color: white;
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 10px;
        }
        
        .new-badge {
            background: var(--accent);
        }
        
        .old-badge {
            background: var(--gray);
        }
        
        /* Contact Us Page */
        .contact-page {
            padding: 20px;
        }
        
        .contact-card {
            background: var(--light);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            margin-bottom: 20px;
            border: 1px solid rgba(139, 93, 255, 0.1);
            color: var(--light-gray);
        }
        
        .contact-header {
            text-align: center;
            margin-bottom: 25px;
        }
        
        .contact-icon {
            font-size: 60px;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .contact-info {
            margin-bottom: 25px;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .contact-icon-small {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(139, 93, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 18px;
            margin-right: 15px;
        }
        
        .contact-details h4 {
            font-size: 16px;
            color: var(--light-gray);
            margin-bottom: 5px;
        }
        
        .contact-details p {
            color: var(--gray);
            font-size: 14px;
        }
        
        .telegram-btn {
            background: linear-gradient(to right, #0088cc, #1da1f2);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }
        
        .telegram-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 136, 204, 0.3);
        }
        
        .whatsapp-btn {
            background: linear-gradient(to right, #25D366, #128C7E);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 15px;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .whatsapp-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }
        
        /* Login Required Overlay */
        .login-required {
            text-align: center;
            padding: 40px 20px;
        }
        
        .login-required-icon {
            font-size: 60px;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        /* Admin specific styles */
        .admin-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .admin-only {
            display: none;
        }
        
        .admin-visible .admin-only {
            display: block;
        }
        
        /* Message alerts */
        .message {
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 14px;
            display: none;
        }
        
        .message.success {
            background-color: rgba(59, 212, 174, 0.1);
            color: #3BD4AE;
            border: 1px solid rgba(59, 212, 174, 0.3);
        }
        
        .message.error {
            background-color: rgba(255, 94, 125, 0.1);
            color: #FF5E7D;
            border: 1px solid rgba(255, 94, 125, 0.3);
        }
        
        /* Password strength indicator */
        .password-strength {
            height: 4px;
            border-radius: 2px;
            margin-top: 5px;
            background: rgba(139, 93, 255, 0.1);
            overflow: hidden;
        }
        
        .password-strength-bar {
            height: 100%;
            width: 0%;
            transition: width 0.3s ease, background-color 0.3s ease;
        }
        
        .strength-weak {
            background-color: var(--danger);
            width: 33%;
        }
        
        .strength-medium {
            background-color: var(--secondary);
            width: 66%;
        }
        
        .strength-strong {
            background-color: var(--accent);
            width: 100%;
        }
        
        /* Floating Upload Button */
        .float-upload-btn {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .float-upload-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(139, 93, 255, 0.4);
        }
        
        .upload-options {
            position: fixed;
            bottom: 150px;
            right: 20px;
            display: none;
            flex-direction: column;
            gap: 10px;
            z-index: 998;
        }
        
        .upload-option {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--light);
            color: var(--primary);
            border: none;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .upload-option:hover {
            background: var(--primary);
            color: white;
        }
        
        /* Platform Info Tags */
        .platform-tags {
            display: flex;
            gap: 5px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .platform-tag {
            background: rgba(139, 93, 255, 0.1);
            color: var(--primary);
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 11px;
            font-weight: 500;
        }
        
        /* File Upload Preview */
        .file-preview {
            margin-top: 10px;
            text-align: center;
        }
        
        .preview-image {
            max-width: 100%;
            max-height: 150px;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        /* Admin Dashboard Page */
        #admin-dashboard-page .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: var(--light);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .stat-icon {
            font-size: 30px;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .stat-number {
            font-size: 24px;
            font-weight: 700;
            color: var(--light-gray);
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 12px;
            color: var(--gray);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Orders Table */
        .orders-table {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            border: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .order-row {
            display: flex;
            padding: 15px;
            border-bottom: 1px solid rgba(139, 93, 255, 0.1);
            align-items: center;
        }
        
        .order-row:last-child {
            border-bottom: none;
        }
        
        .order-info {
            flex: 1;
        }
        
        .order-platform {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            margin-right: 15px;
        }
        
        .order-details h4 {
            font-size: 16px;
            color: var(--light-gray);
            margin-bottom: 5px;
        }
        
        .order-details p {
            color: var(--gray);
            font-size: 12px;
            margin-bottom: 3px;
        }
        
        .order-actions {
            display: flex;
            gap: 10px;
        }
        
        .order-btn {
            padding: 8px 15px;
            border-radius: 5px;
            border: none;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .confirm-btn {
            background: var(--success);
            color: white;
        }
        
        .confirm-btn:hover {
            background: #2ac195;
        }
        
        .view-btn {
            background: var(--primary);
            color: white;
        }
        
        .view-btn:hover {
            background: #7a4aff;
        }
        
        /* Account Details Modal */
        .account-details-content {
            max-height: 70vh;
            overflow-y: auto;
        }
        
        .account-credentials {
            background: rgba(139, 93, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .credentials-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--light-gray);
            margin-bottom: 10px;
        }
        
        .credential-item {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(139, 93, 255, 0.2);
        }
        
        .credential-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .credential-label {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 3px;
        }
        
        .credential-value {
            font-size: 14px;
            color: var(--light-gray);
            font-weight: 500;
            word-break: break-all;
        }
        
        /* Payment Details */
        .payment-details {
            background: rgba(59, 212, 174, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        /* My Orders Page */
        .orders-list {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            border: 1px solid rgba(139, 93, 255, 0.1);
        }
        
        .order-status {
            font-size: 12px;
            font-weight: 600;
            padding: 3px 8px;
            border-radius: 10px;
            margin-left: 10px;
        }
        
        .status-pending {
            background: rgba(255, 126, 95, 0.2);
            color: var(--secondary);
        }
        
        .status-completed {
            background: rgba(59, 212, 174, 0.2);
            color: var(--success);
        }
        
        .status-cancelled {
            background: rgba(255, 94, 125, 0.2);
            color: var(--danger);
        }
        
        /* Payment Modal */
        .payment-methods {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .payment-method {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid transparent;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .payment-method.selected {
            border-color: var(--primary);
            background: rgba(139, 93, 255, 0.1);
        }
        
        .payment-icon {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--primary);
        }
        
        .payment-name {
            font-size: 12px;
            font-weight: 500;
            color: var(--light-gray);
        }
        
        /* Bank Transfer Details */
        .bank-transfer-details {
            background: rgba(139, 93, 255, 0.1);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            display: none;
        }
        
        .bank-detail-item {
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(139, 93, 255, 0.2);
        }
        
        .bank-detail-item:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }
        
        .bank-detail-label {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 3px;
        }
        
        .bank-detail-value {
            font-size: 16px;
            color: var(--light-gray);
            font-weight: 600;
            word-break: break-all;
        }
      Buyers can see credentials */
        .credentials-revealed {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { background: rgba(59, 212, 174, 0.1); }
            50% { background: rgba(59, 212, 174, 0.2); }
            100% { background: rgba(59, 212, 174, 0.1); }
        }
        
        /* Tool-specific styles */
        .tools-page {
            padding: 20px;
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .tool-card {
            background: var(--light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 1px solid rgba(156, 39, 176, 0.1);
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(156, 39, 176, 0.25);
        }
        
        .tool-image {
            width: 100%;
            height: 140px;
            object-fit: cover;
            border-bottom: 1px solid rgba(156, 39, 176, 0.1);
        }
        
        .tool-category {
            padding: 10px 15px 5px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .tool-info {
            padding: 10px 15px 15px;
        }
        
        .tool-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--light-gray);
            margin-bottom: 5px;
        }
        
        .tool-site {
            font-size: 12px;
            color: var(--gray);
            margin-bottom: 10px;
        }
        
        .tool-price {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
    </style>
</head>
<body>
    <!-- Mobile App Header -->
    <header class="app-header">
        <div class="logo-container">
            <i class="fas fa-share-alt logo-icon"></i>
            <div class="logo-text">Gracelordsocialhub</div>
            <span id="adminBadge" class="admin-badge" style="display: none;">ADMIN</span>
        </div>
        <div class="header-actions">
            <button class="header-btn admin-only" id="openAccountUpload">
                <i class="fas fa-upload"></i>
            </button>
        </div>
    </header>

    <!-- Floating Upload Button (Admin Only) -->
    <button class="float-upload-btn admin-only" id="floatUploadBtn" style="display: none;">
        <i class="fas fa-plus"></i>
    </button>
    
    <div class="upload-options admin-only" id="uploadOptions">
        <button class="upload-option" id="floatAccountUpload">
            <i class="fas fa-user-plus"></i>
        </button>
        <button class="upload-option" id="floatToolsUpload">
            <i class="fas fa-tools"></i>
        </button>
    </div>

    <!-- Login Page -->
    <section id="login-page" class="page active">
        <div class="auth-page">
            <div class="auth-form">
                <div class="auth-title">
                    <h2>Welcome Back!</h2>
                    <p>Sign in to your Gracelordsocialhub account</p>
                </div>
                
                <!-- Message alerts -->
                <div id="loginMessage" class="message"></div>
                
                <form id="loginForm">
                    <div class="form-group">
                        <label for="loginEmail">Email Address</label>
                        <input type="email" id="loginEmail" placeholder="Enter your email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="loginPassword">Password</label>
                        <input type="password" id="loginPassword" placeholder="Enter your password" required>
                    </div>
                    
                    <button type="submit" class="submit-btn">Sign In</button>
                    
                    <div class="auth-switch">
                        <p>Don't have an account? <a href="#" class="auth-link" id="switchToRegister">Register here</a></p>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Register Page -->
    <section id="register-page" class="page">
        <div class="auth-page">
            <div class="auth-form">
                <div class="auth-title">
                    <h2>Create Account</h2>
                    <p>Join Gracelordsocialhub community</p>
                </div>
                
                <!-- Message alerts -->
                <div id="registerMessage" class="message"></div>
                
                <form id="registerForm">
                    <div class="form-group">
                        <label for="registerName">Full Name</label>
                        <input type="text" id="registerName" placeholder="Enter your full name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="registerEmail">Email Address</label>
                        <input type="email" id="registerEmail" placeholder="Enter your email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="registerPhone">Phone Number</label>
                        <input type="tel" id="registerPhone" placeholder="Enter your phone number" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="registerCountry">Country</label>
                        <select id="registerCountry" required>
                            <option value="">Select your country</option>
                            <option value="us">United States</option>
                            <option value="uk">United Kingdom</option>
                            <option value="ca">Canada</option>
                            <option value="au">Australia</option>
                            <option value="de">Germany</option>
                            <option value="fr">France</option>
                            <option value="ng">Nigeria</option>
                            <option value="za">South Africa</option>
                            <option value="ke">Kenya</option>
                            <option value="gh">Ghana</option>
                            <option value="in">India</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="registerPassword">Password</label>
                        <input type="password" id="registerPassword" placeholder="Create a password" required>
                        <div class="password-strength">
                            <div id="passwordStrengthBar" class="password-strength-bar"></div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="registerConfirmPassword">Confirm Password</label>
                        <input type="password" id="registerConfirmPassword" placeholder="Confirm your password" required>
                    </div>
                    
                    <button type="submit" class="submit-btn">Create Account</button>
                    
                    <div class="auth-switch">
                        <p>Already have an account? <a href="#" class="auth-link" id="switchToLogin">Sign in here</a></p>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <!-- Home Page -->
    <section id="home-page" class="page">
        <div class="section-title">
            <h2>Social Media & Services Marketplace</h2>
            <p>Buy verified accounts, iCloud, VPN, and tools</p>
        </div>
        
        <div class="admin-controls admin-only">
            <button class="submit-btn" id="openAccountUploadFromHome">
                <i class="fas fa-upload"></i> Upload Account
            </button>
            <button class="submit-btn" id="openToolsUploadFromHome">
                <i class="fas fa-upload"></i> Upload Tools
            </button>
            <button class="submit-btn" id="goToDashboard">
                <i class="fas fa-chart-bar"></i> Dashboard
            </button>
        </div>
        
        <div class="account-tabs">
            <button class="tab active" data-tab="accounts">Accounts</button>
            <button class="tab" data-tab="icloud">iCloud</button>
            <button class="tab" data-tab="tools">Tools</button>
            <button class="tab" data-tab="my-orders" id="myOrdersTab">My Orders</button>
        </div>
        
        <!-- Accounts Grid -->
        <div id="accounts-grid" class="accounts-grid">
            <!-- Uploaded accounts will be loaded here -->
            <div class="empty-state">
                <i class="fas fa-users empty-icon"></i>
                <h3>No accounts yet</h3>
                <p>Upload your first account to start selling</p>
            </div>
        </div>
        
        <!-- iCloud Grid -->
        <div id="icloud-grid" class="accounts-grid" style="display: none;">
            <!-- iCloud accounts will be loaded here -->
            <div class="empty-state">
                <i class="fas fa-cloud empty-icon"></i>
                <h3>No iCloud accounts yet</h3>
                <p>iCloud accounts will appear here</p>
            </div>
        </div>
        
        <!-- Tools Grid -->
        <div id="tools-grid" class="tools-grid" style="display: none;">
            <!-- Tools will be loaded here -->
            <div class="empty-state">
                <i class="fas fa-tools empty-icon"></i>
                <h3>No tools yet</h3>
                <p>Tools will appear here</p>
            </div>
        </div>
        
        <!-- My Orders Grid -->
        <div id="my-orders" class="orders-list" style="display: none;">
            <!-- User's orders will be loaded here -->
            <div class="empty-state">
                <i class="fas fa-clipboard-list empty-icon"></i>
                <h3>No orders yet</h3>
                <p>Your orders will appear here</p>
            </div>
        </div>
    </section>

    <!-- Admin Dashboard Page -->
    <section id="admin-dashboard-page" class="page">
        <div class="section-title">
            <h2>Admin Dashboard</h2>
            <p>Manage orders and view analytics</p>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div class="stat-number" id="totalOrders">0</div>
                <div class="stat-label">Total Orders</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-money-bill-wave"></i>
                </div>
                <div class="stat-number" id="totalRevenue">₦0</div>
                <div class="stat-label">Total Revenue</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-number" id="pendingOrders">0</div>
                <div class="stat-label">Pending Orders</div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-number" id="completedOrders">0</div>
                <div class="stat-label">Completed Orders</div>
            </div>
        </div>
        
        <div class="section-title">
            <h3>Recent Orders</h3>
            <p>Manage pending orders</p>
        </div>
        
        <div id="admin-orders" class="orders-table">
            <!-- Admin orders will be loaded here -->
            <div class="empty-state">
                <i class="fas fa-clipboard-list empty-icon"></i>
                <h3>No orders yet</h3>
                <p>Customer orders will appear here</p>
            </div>
        </div>
        
        <button class="submit-btn" id="backToHome">
            <i class="fas fa-arrow-left"></i> Back to Home
        </button>
    </section>

    <!-- Cart Page -->
    <section id="cart-page" class="page">
        <div class="section-title">
            <h2>Your Shopping Cart</h2>
            <p>Review your selected items</p>
        </div>
        
        <div id="cart-items" class="cart-items">
            <!-- Cart items will be loaded here -->
            <div class="empty-state">
                <i class="fas fa-shopping-cart empty-icon"></i>
                <h3>Your cart is empty</h3>
                <p>Add some items to your cart</p>
            </div>
        </div>
        
        <div id="cart-summary" class="cart-summary" style="display: none;">
            <div class="summary-row">
                <span>Subtotal:</span>
                <span id="subtotal">₦0.00</span>
            </div>
            <div class="summary-row">
                <span>Platform Transfer Fee:</span>
                <span id="shipping">₦500.00</span>
            </div>
            <div class="summary-row summary-total">
                <span>Total:</span>
                <span id="total">₦0.00</span>
            </div>
            <button class="checkout-btn" id="proceedToCheckout">Proceed to Checkout</button>
        </div>
    </section>

    <!-- Profile Page -->
    <section id="profile-page" class="page">
        <div class="profile-card">
            <div class="profile-header">
                <div class="profile-avatar" id="userAvatar">
                    <!-- Initials will be loaded here -->
                </div>
                <div class="profile-info">
                    <h3 id="userName">Loading...</h3>
                    <p id="userEmail">Loading...</p>
                    <span id="profileRoleBadge" style="font-size: 12px; color: var(--accent); font-weight: 600;"></span>
                </div>
            </div>
            
            <div class="profile-details">
                <div class="detail-row">
                    <div class="detail-label">Full Name:</div>
                    <div class="detail-value" id="profileName">Loading...</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Email:</div>
                    <div class="detail-value" id="profileEmail">Loading...</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Phone:</div>
                    <div class="detail-value" id="profilePhone">Loading...</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Country:</div>
                    <div class="detail-value" id="profileCountry">Loading...</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Member Since:</div>
                    <div class="detail-value" id="profileSince">Loading...</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Account Type:</div>
                    <div class="detail-value" id="profileRole">Loading...</div>
                </div>
            </div>
            
            <button class="logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i> Logout
            </button>
        </div>
    </section>

    <!-- Contact Us Page -->
    <section id="contact-page" class="page">
        <div class="contact-page">
            <div class="contact-card">
                <div class="contact-header">
                    <i class="fas fa-headset contact-icon"></i>
                    <h2>Contact Us</h2>
                    <p>Get in touch with Gracelordsocialhub team</p>
                </div>
                
                <div class="contact-info">
                    <div class="contact-item">
                        <div class="contact-icon-small">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h4>Phone Number</h4>
                            <p>07088376847</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon-small">
                            <i class="fas fa-university"></i>
                        </div>
                        <div class="contact-details">
                            <h4>Bank Transfer Details</h4>
                            <div class="bank-transfer-details" style="margin-top: 10px;">
                                <div class="bank-detail-item">
                                    <div class="bank-detail-label">Bank Name:</div>
                                    <div class="bank-detail-value">OPay</div>
                                </div>
                                <div class="bank-detail-item">
                                    <div class="bank-detail-label">Account Number:</div>
                                    <div class="bank-detail-value">7088376847</div>
                                </div>
                                <div class="bank-detail-item">
                                    <div class="bank-detail-label">Account Name:</div>
                                    <div class="bank-detail-value">Donald Nzubechukwu</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon-small">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h4>Business Hours</h4>
                            <p>Monday - Friday: 9:00 AM - 6:00 PM</p>
                            <p>Saturday: 10:00 AM - 4:00 PM</p>
                        </div>
                    </div>
                </div>
                
                <button class="telegram-btn" id="telegramBtn">
                    <i class="fab fa-telegram"></i>
                    Message us on Telegram
                </button>
                
                <button class="whatsapp-btn" id="whatsappBtn">
                    <i class="fab fa-whatsapp"></i>
                    Message us on WhatsApp
                </button>
            </div>
        </div>
    </section>

    <!-- Upload Social Media Account Modal -->
    <div class="modal" id="accountUploadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Upload Social Media Account</h3>
                <button class="close-btn" id="closeAccountModal">&times;</button>
            </div>
            <form class="upload-form" id="accountUploadForm">
                <div class="form-group">
                    <label for="platformSelect">Select Platform</label>
                    <div class="platform-selection" id="platformSelection">
                        <div class="platform-option" data-platform="facebook">
                            <div class="platform-option-icon facebook-icon">
                                <i class="fab fa-facebook-f"></i>
                            </div>
                            <span class="platform-option-name">Facebook</span>
                        </div>
                        <div class="platform-option" data-platform="twitter">
                            <div class="platform-option-icon twitter-icon">
                                <i class="fab fa-twitter"></i>
                            </div>
                            <span class="platform-option-name">Twitter</span>
                        </div>
                        <div class="platform-option" data-platform="instagram">
                            <div class="platform-option-icon instagram-icon">
                                <i class="fab fa-instagram"></i>
                            </div>
                            <span class="platform-option-name">Instagram</span>
                        </div>
                        <div class="platform-option" data-platform="vpn">
                            <div class="platform-option-icon vpn-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <span class="platform-option-name">VPN</span>
                        </div>
                        <div class="platform-option" data-platform="tiktok">
                            <div class="platform-option-icon tiktok-icon">
                                <i class="fab fa-tiktok"></i>
                            </div>
                            <span class="platform-option-name">TikTok</span>
                        </div>
                        <div class="platform-option" data-platform="icloud-us">
                            <div class="platform-option-icon icloud-us-icon">
                                <i class="fas fa-cloud"></i>
                            </div>
                            <span class="platform-option-name">US iCloud</span>
                        </div>
                        <div class="platform-option" data-platform="icloud-ng">
                            <div class="platform-option-icon icloud-ng-icon">
                                <i class="fas fa-cloud"></i>
                            </div>
                            <span class="platform-option-name">Nigeria iCloud</span>
                        </div>
                    </div>
                    <input type="hidden" id="selectedPlatform" required>
                </div>
                
                <div class="form-group">
                    <label for="accountImageFile">Account Screenshot/Image (Optional)</label>
                    <input type="file" id="accountImageFile" accept="image/*">
                    <small style="color: var(--gray); font-size: 12px;">Upload a clear screenshot of the account (optional)</small>
                </div>
                
                <div class="file-preview" id="accountImagePreview"></div>
                
                <div class="form-group">
                    <label for="accountUsername">Account Username/Email</label>
                    <input type="text" id="accountUsername" placeholder="Enter account username or email" required>
                </div>
                
                <div class="form-group">
                    <label for="accountPassword">Account Password</label>
                    <input type="text" id="accountPassword" placeholder="Enter account password" required>
                </div>
                
                <div class="form-group">
                    <label for="accountPhone">Account Phone/Recovery Email</label>
                    <input type="text" id="accountPhone" placeholder="Enter phone or recovery email" required>
                </div>
                
                <div class="form-group">
                    <label for="accountFollowers">Followers/Connections Count</label>
                    <input type="number" id="accountFollowers" placeholder="Number of followers" required>
                </div>
                
                <div class="form-group">
                    <label for="accountAge">Account Age (months)</label>
                    <input type="number" id="accountAge" placeholder="Age of account in months" required>
                </div>
                
                <div class="form-group">
                    <label for="accountPrice">Price (₦)</label>
                    <input type="number" id="accountPrice" placeholder="Enter price in Naira" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label for="accountDescription">Additional Details</label>
                    <textarea id="accountDescription" placeholder="Enter any additional details about the account (verification status, engagement rate, etc.)"></textarea>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-upload"></i> Upload Account
                </button>
            </form>
        </div>
    </div>

    <!-- Upload Tools Modal -->
    <div class="modal" id="toolsUploadModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Upload Tools</h3>
                <button class="close-btn" id="closeToolsModal">&times;</button>
            </div>
            <form class="upload-form" id="toolsUploadForm">
                <div class="form-group">
                    <label for="toolName">Tool Name</label>
                    <input type="text" id="toolName" placeholder="Enter tool name (e.g., Picture Tool, Dating App Tool)" required>
                </div>
                
                <div class="form-group">
                    <label for="toolCategory">Category</label>
                    <select id="toolCategory" required>
                        <option value="">Select category</option>
                        <option value="pictures">Pictures Tool</option>
                        <option value="dating">Dating App Tool</option>
                        <option value="automation">Automation Tool</option>
                        <option value="scraping">Data Scraping Tool</option>
                        <option value="analytics">Analytics Tool</option>
                        <option value="security">Security Tool</option>
                        <option value="other">Other Tool</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="toolSite">Website/Site</label>
                    <input type="text" id="toolSite" placeholder="Enter website or platform where tool works" required>
                </div>
                
                <div class="form-group">
                    <label for="toolImageFile">Tool Screenshot/Image (Optional)</label>
                    <input type="file" id="toolImageFile" accept="image/*">
                    <small style="color: var(--gray); font-size: 12px;">Upload a screenshot of the tool (optional)</small>
                </div>
                
                <div class="file-preview" id="toolImagePreview"></div>
                
                <div class="form-group">
                    <label for="toolPrice">Price (₦)</label>
                    <input type="number" id="toolPrice" placeholder="Enter price in Naira" step="0.01" required>
                </div>
                
                <div class="form-group">
                    <label for="toolDescription">Tool Description</label>
                    <textarea id="toolDescription" placeholder="Enter tool description, features, and usage instructions" required></textarea>
                </div>
                
                <button type="submit" class="submit-btn">
                    <i class="fas fa-upload"></i> Upload Tool
                </button>
            </form>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Complete Payment</h3>
                <button class="close-btn" id="closePaymentModal">&times;</button>
            </div>
            <div class="payment-details">
                <h4 style="margin-bottom: 10px;">Payment Details</h4>
                <div class="summary-row">
                    <span>Total Amount:</span>
                    <span id="paymentAmount">₦0.00</span>
                </div>
                <div class="summary-row">
                    <span>Item(s):</span>
                    <span id="paymentItems">0</span>
                </div>
            </div>
            
            <div class="form-group">
                <label>Select Payment Method</label>
                <div class="payment-methods">
                    <div class="payment-method" data-method="bank">
                        <i class="fas fa-university payment-icon"></i>
                        <span class="payment-name">Bank Transfer</span>
                    </div>
                </div>
                <input type="hidden" id="selectedPaymentMethod" required>
            </div>
            
            <!-- Bank Transfer Details (Shown when Bank Transfer is selected) -->
            <div id="bankDetailsSection" class="bank-transfer-details" style="display: none;">
                <h4 style="margin-bottom: 10px;">Bank Transfer Details</h4>
                <div class="bank-detail-item">
                    <div class="bank-detail-label">Bank Name:</div>
                    <div class="bank-detail-value">OPay</div>
                </div>
                <div class="bank-detail-item">
                    <div class="bank-detail-label">Account Number:</div>
                    <div class="bank-detail-value">7088376847</div>
                </div>
                <div class="bank-detail-item">
                    <div class="bank-detail-label">Account Name:</div>
                    <div class="bank-detail-value">Donald Nzubechukwu</div>
                </div>
                <div class="bank-detail-item">
                    <div class="bank-detail-label">Important:</div>
                    <div class="bank-detail-value" style="color: var(--accent); font-size: 14px;">
                        Please include your name or order ID as payment reference
                    </div>
                </div>
            </div>
            
            <div class="form-group">
                <label for="paymentProof">Upload Payment Proof (Screenshot)</label>
                <input type="file" id="paymentProof" accept="image/*" required>
                <small style="color: var(--gray); font-size: 12px;">Upload screenshot of payment confirmation</small>
            </div>
            
            <div class="file-preview" id="paymentProofPreview"></div>
            
            <button class="submit-btn" id="submitPayment">
                <i class="fas fa-check-circle"></i> Submit Payment
            </button>
        </div>
    </div>

    <!-- Account Details Modal -->
    <div class="modal" id="accountDetailsModal">
        <div class="modal-content account-details-content">
            <div class="modal-header">
                <h3>Account Details</h3>
                <button class="close-btn" id="closeAccountDetailsModal">&times;</button>
            </div>
            
            <div id="accountDetailsContent">
                <!-- Account details will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <a href="#home" class="nav-item" data-page="home-page">
            <i class="fas fa-home nav-icon"></i>
            <span>Home</span>
        </a>
        <a href="#cart" class="nav-item" data-page="cart-page">
            <i class="fas fa-shopping-cart nav-icon"></i>
            <span>Cart</span>
            <span id="cart-count" style="position: absolute; top: -5px; right: 10px; background: var(--secondary); color: white; border-radius: 50%; width: 18px; height: 18px; font-size: 10px; display: flex; align-items: center; justify-content: center; display: none;">0</span>
        </a>
        <a href="#profile" class="nav-item" data-page="profile-page">
            <i class="fas fa-user nav-icon"></i>
            <span>Profile</span>
        </a>
        <a href="#contact" class="nav-item" data-page="contact-page">
            <i class="fas fa-phone-alt nav-icon"></i>
            <span>Contact</span>
        </a>
    </nav>

    <script>
        // App Data Storage
        let accounts = JSON.parse(localStorage.getItem('gracelordsocialhubAccounts')) || [];
        let tools = JSON.parse(localStorage.getItem('gracelordsocialhubTools')) || [];
        let cart = JSON.parse(localStorage.getItem('gracelordsocialhubCart')) || [];
        let orders = JSON.parse(localStorage.getItem('gracelordsocialhubOrders')) || [];
        
        // Initialize users with admin account if not exists
        let users = JSON.parse(localStorage.getItem('gracelordsocialhubUsers')) || [];
        
        // Updated admin credentials
        const adminEmail = 'Gracelord783@gmail.com';
        const adminPassword = 'Admin@1';
        
        const adminExists = users.some(user => user.email === adminEmail);
        if (!adminExists) {
            const adminUser = {
                id: 1,
                name: 'Admin User',
                email: adminEmail,
                phone: '07088376847',
                country: 'ng',
                password: adminPassword,
                role: 'admin',
                dateRegistered: new Date().toISOString()
            };
            users.push(adminUser);
            localStorage.setItem('gracelordsocialhubUsers', JSON.stringify(users));
        }
        
        let currentUser = JSON.parse(localStorage.getItem('gracelordsocialhubCurrentUser')) || null;
        
        // DOM Elements
        const accountUploadModal = document.getElementById('accountUploadModal');
        const toolsUploadModal = document.getElementById('toolsUploadModal');
        const openAccountUploadBtn = document.getElementById('openAccountUpload');
        const closeAccountModalBtn = document.getElementById('closeAccountModal');
        const closeToolsModalBtn = document.getElementById('closeToolsModal');
        const accountUploadForm = document.getElementById('accountUploadForm');
        const toolsUploadForm = document.getElementById('toolsUploadForm');
        const accountImageFile = document.getElementById('accountImageFile');
        const accountImagePreview = document.getElementById('accountImagePreview');
        const toolImageFile = document.getElementById('toolImageFile');
        const toolImagePreview = document.getElementById('toolImagePreview');
        const platformSelection = document.getElementById('platformSelection');
        const selectedPlatformInput = document.getElementById('selectedPlatform');
        const accountsGrid = document.getElementById('accounts-grid');
        const icloudGrid = document.getElementById('icloud-grid');
        const toolsGrid = document.getElementById('tools-grid');
        const myOrdersContainer = document.getElementById('my-orders');
        const cartItemsContainer = document.getElementById('cart-items');
        const cartSummary = document.getElementById('cart-summary');
        const cartCount = document.getElementById('cart-count');
        const subtotalElement = document.getElementById('subtotal');
        const shippingElement = document.getElementById('shipping');
        const totalElement = document.getElementById('total');
        const navItems = document.querySelectorAll('.nav-item');
        const pages = document.querySelectorAll('.page');
        
        // Login/Register Elements
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const switchToRegisterBtn = document.getElementById('switchToRegister');
        const switchToLoginBtn = document.getElementById('switchToLogin');
        const logoutBtn = document.getElementById('logoutBtn');
        
        // Message elements
        const loginMessage = document.getElementById('loginMessage');
        const registerMessage = document.getElementById('registerMessage');
        
        // Profile Elements
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const userEmail = document.getElementById('userEmail');
        const profileName = document.getElementById('profileName');
        const profileEmail = document.getElementById('profileEmail');
        const profilePhone = document.getElementById('profilePhone');
        const profileCountry = document.getElementById('profileCountry');
        const profileSince = document.getElementById('profileSince');
        const profileRole = document.getElementById('profileRole');
        const profileRoleBadge = document.getElementById('profileRoleBadge');
        
        // Admin elements
        const adminBadge = document.getElementById('adminBadge');
        const openAccountUploadFromHome = document.getElementById('openAccountUploadFromHome');
        const openToolsUploadFromHome = document.getElementById('openToolsUploadFromHome');
        const floatUploadBtn = document.getElementById('floatUploadBtn');
        const floatAccountUpload = document.getElementById('floatAccountUpload');
        const floatToolsUpload = document.getElementById('floatToolsUpload');
        const uploadOptions = document.getElementById('uploadOptions');
        const goToDashboard = document.getElementById('goToDashboard');
        const backToHome = document.getElementById('backToHome');
        const adminDashboardPage = document.getElementById('admin-dashboard-page');
        const adminOrdersContainer = document.getElementById('admin-orders');
        const totalOrders = document.getElementById('totalOrders');
        const totalRevenue = document.getElementById('totalRevenue');
        const pendingOrders = document.getElementById('pendingOrders');
        const completedOrders = document.getElementById('completedOrders');
        
        // Contact elements
        const telegramBtn = document.getElementById('telegramBtn');
        const whatsappBtn = document.getElementById('whatsappBtn');
        
        // Password strength
        const passwordStrengthBar = document.getElementById('passwordStrengthBar');
        
        // Payment elements
        const paymentModal = document.getElementById('paymentModal');
        const closePaymentModalBtn = document.getElementById('closePaymentModal');
        const paymentProof = document.getElementById('paymentProof');
        const paymentProofPreview = document.getElementById('paymentProofPreview');
        const proceedToCheckout = document.getElementById('proceedToCheckout');
        const submitPayment = document.getElementById('submitPayment');
        const paymentAmount = document.getElementById('paymentAmount');
        const paymentItems = document.getElementById('paymentItems');
        const paymentMethods = document.querySelectorAll('.payment-method');
        const bankDetailsSection = document.getElementById('bankDetailsSection');
        
        // Account details modal
        const accountDetailsModal = document.getElementById('accountDetailsModal');
        const closeAccountDetailsModal = document.getElementById('closeAccountDetailsModal');
        const accountDetailsContent = document.getElementById('accountDetailsContent');
        
        // Tabs
        const myOrdersTab = document.getElementById('myOrdersTab');
        
        // Telegram phone number
        const telegramPhone = '+2349067932012';
        const whatsappPhone = '07088376847';
        
        // Platform icons mapping
        const platformIcons = {
            'facebook': 'fab fa-facebook-f',
            'twitter': 'fab fa-twitter',
            'instagram': 'fab fa-instagram',
            'vpn': 'fas fa-shield-alt',
            'tiktok': 'fab fa-tiktok',
            'icloud-us': 'fas fa-cloud',
            'icloud-ng': 'fas fa-cloud'
        };
        
        const platformColors = {
            'facebook': 'var(--facebook)',
            'twitter': 'var(--twitter)',
            'instagram': 'var(--instagram)',
            'vpn': 'var(--vpn)',
            'tiktok': 'var(--tiktok)',
            'icloud-us': 'var(--icloud-us)',
            'icloud-ng': 'var(--icloud-ng)',
            'tools': 'var(--tools)'
        };
        
        // Tool category icons
        const toolCategoryIcons = {
            'pictures': 'fas fa-images',
            'dating': 'fas fa-heart',
            'automation': 'fas fa-robot',
            'scraping': 'fas fa-database',
            'analytics': 'fas fa-chart-line',
            'security': 'fas fa-shield-alt',
            'other': 'fas fa-tools'
        };
        
        // Default placeholder images
        const defaultPlaceholderImages = {
            'facebook': 'https://images.unsplash.com/photo-1611605698335-8b1569810435?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
            'twitter': 'https://images.unsplash.com/photo-1611605698335-8b1569810435?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
            'instagram': 'https://images.unsplash.com/photo-1611605698335-8b1569810435?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
            'vpn': 'https://images.unsplash.com/photo-1614732414444-096e5f1122d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
            'tiktok': 'https://images.unsplash.com/photo-1611605698335-8b1569810435?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
            'icloud-us': 'https://images.unsplash.com/photo-1633265486064-086b219458ec?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
            'icloud-ng': 'https://images.unsplash.com/photo-1633265486064-086b219458ec?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80',
            'tools': 'https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80'
        };
        
        // Initialize App
        function initApp() {
            checkAuthStatus();
            updateAccountsDisplay();
            updateToolsDisplay();
            updateCartDisplay();
            setupEventListeners();
            checkAccountAges();
            setupPasswordStrength();
            setupPlatformSelection();
            updateMyOrdersDisplay();
            updateAdminDashboard();
        }
        
        // Authentication Functions
        function checkAuthStatus() {
            if (currentUser) {
                showAppPages();
                updateProfileDisplay();
                updateAdminUI();
            } else {
                showAuthPages();
            }
        }
        
        function showAuthPages() {
            document.getElementById('login-page').classList.add('active');
            document.getElementById('register-page').classList.remove('active');
            hideAllAppPages();
            hideBottomNav();
            hideFloatButton();
        }
        
        function showAppPages() {
            document.getElementById('login-page').classList.remove('active');
            document.getElementById('register-page').classList.remove('active');
            document.getElementById('home-page').classList.add('active');
            showBottomNav();
            updateNavActive('home-page');
            showFloatButtonIfAdmin();
        }
        
        function hideAllAppPages() {
            pages.forEach(page => {
                if (page.id !== 'login-page' && page.id !== 'register-page') {
                    page.classList.remove('active');
                }
            });
        }
        
        function hideBottomNav() {
            document.querySelector('.bottom-nav').style.display = 'none';
        }
        
        function showBottomNav() {
            document.querySelector('.bottom-nav').style.display = 'flex';
        }
        
        function showFloatButtonIfAdmin() {
            if (currentUser && currentUser.role === 'admin') {
                floatUploadBtn.style.display = 'flex';
            } else {
                floatUploadBtn.style.display = 'none';
                uploadOptions.style.display = 'none';
            }
        }
        
        function hideFloatButton() {
            floatUploadBtn.style.display = 'none';
            uploadOptions.style.display = 'none';
        }
        
        function updateNavActive(activePageId) {
            navItems.forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-page') === activePageId) {
                    item.classList.add('active');
                }
            });
        }
        
        function loginUser(email, password) {
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('gracelordsocialhubCurrentUser', JSON.stringify(currentUser));
                showAppPages();
                updateProfileDisplay();
                updateAdminUI();
                
                // Show success message
                showMessage(loginMessage, `Welcome to Gracelordsocialhub, ${user.name}!`, 'success');
                return true;
            }
            
            showMessage(loginMessage, 'Invalid email or password', 'error');
            return false;
        }
        
        function registerUser(userData) {
            // Check if email already exists
            if (users.some(u => u.email === userData.email)) {
                showMessage(registerMessage, 'Email already registered', 'error');
                return { success: false, message: "Email already registered" };
            }
            
            // Validate email format
            if (!validateEmail(userData.email)) {
                showMessage(registerMessage, 'Please enter a valid email address', 'error');
                return { success: false, message: "Invalid email format" };
            }
            
            // Validate password strength
            if (!validatePassword(userData.password)) {
                showMessage(registerMessage, 'Password must be at least 6 characters with letters and numbers', 'error');
                return { success: false, message: "Password too weak" };
            }
            
            const newUser = {
                id: users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 2,
                ...userData,
                role: 'user',
                dateRegistered: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('gracelordsocialhubUsers', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('gracelordsocialhubCurrentUser', JSON.stringify(currentUser));
            
            showMessage(registerMessage, 'Account created successfully!', 'success');
            
            setTimeout(() => {
                showAppPages();
                updateProfileDisplay();
                updateAdminUI();
            }, 1500);
            
            return { success: true };
        }
        
        function logoutUser() {
            currentUser = null;
            localStorage.removeItem('gracelordsocialhubCurrentUser');
            showAuthPages();
            clearMessages();
        }
        
        function updateProfileDisplay() {
            if (currentUser) {
                // Get initials for avatar
                const initials = currentUser.name
                    .split(' ')
                    .map(n => n[0])
                    .join('')
                    .toUpperCase()
                    .substring(0, 2);
                
                userAvatar.textContent = initials;
                userName.textContent = currentUser.name;
                userEmail.textContent = currentUser.email;
                profileName.textContent = currentUser.name;
                profileEmail.textContent = currentUser.email;
                profilePhone.textContent = currentUser.phone;
                
                // Get country name from value
                const countrySelect = document.getElementById('registerCountry');
                const countryOption = Array.from(countrySelect.options).find(opt => opt.value === currentUser.country);
                profileCountry.textContent = countryOption ? countryOption.text : currentUser.country;
                
                // Format registration date
                const regDate = new Date(currentUser.dateRegistered);
                profileSince.textContent = regDate.toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // Display role
                const roleDisplay = currentUser.role === 'admin' ? 'Administrator' : 'Regular User';
                const roleColor = currentUser.role === 'admin' ? 'var(--secondary)' : 'var(--accent)';
                profileRole.textContent = roleDisplay;
                profileRoleBadge.textContent = roleDisplay.toUpperCase();
                profileRoleBadge.style.color = roleColor;
            }
        }
        
        function updateAdminUI() {
            if (currentUser && currentUser.role === 'admin') {
                // Show admin badge
                adminBadge.style.display = 'inline-block';
                
                // Show admin controls
                document.body.classList.add('admin-visible');
                
                // Enable upload buttons
                openAccountUploadBtn.disabled = false;
                
                // Show float button
                floatUploadBtn.style.display = 'flex';
            } else {
                // Hide admin badge
                adminBadge.style.display = 'none';
                
                // Hide admin controls
                document.body.classList.remove('admin-visible');
                
                // Disable upload buttons
                openAccountUploadBtn.disabled = true;
                
                // Hide float button
                floatUploadBtn.style.display = 'none';
                uploadOptions.style.display = 'none';
            }
        }
        
        // Setup platform selection
        function setupPlatformSelection() {
            const platformOptions = document.querySelectorAll('.platform-option');
            
            platformOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Remove selected class from all options
                    platformOptions.forEach(opt => opt.classList.remove('selected'));
                    
                    // Add selected class to clicked option
                    this.classList.add('selected');
                    
                    // Set the hidden input value
                    const platform = this.getAttribute('data-platform');
                    selectedPlatformInput.value = platform;
                });
            });
            
            // Select first platform by default
            if (platformOptions.length > 0) {
                platformOptions[0].click();
            }
        }
        
        // Check account ages and mark as old if older than 30 days
        function checkAccountAges() {
            const thirtyDaysAgo = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000);
            
            accounts.forEach(account => {
                const accountDate = new Date(account.dateAdded);
                account.isNew = accountDate > thirtyDaysAgo;
            });
            
            localStorage.setItem('gracelordsocialhubAccounts', JSON.stringify(accounts));
        }
        
        // Update Accounts Display
        function updateAccountsDisplay() {
            // Clear current displays
            accountsGrid.innerHTML = '';
            icloudGrid.innerHTML = '';
            
            // Separate accounts and iCloud accounts
            const regularAccounts = accounts.filter(a => !a.platform.includes('icloud'));
            const icloudAccounts = accounts.filter(a => a.platform.includes('icloud'));
            
            // Display regular accounts
            if (regularAccounts.length > 0) {
                regularAccounts.forEach(account => {
                    const accountElement = createAccountElement(account);
                    accountsGrid.appendChild(accountElement);
                });
            } else {
                accountsGrid.innerHTML = '<div class="empty-state"><i class="fas fa-users empty-icon"></i><h3>No accounts yet</h3><p>Upload your first account to start selling</p></div>';
            }
            
            // Display iCloud accounts
            if (icloudAccounts.length > 0) {
                icloudAccounts.forEach(account => {
                    const accountElement = createAccountElement(account);
                    icloudGrid.appendChild(accountElement);
                });
            } else {
                icloudGrid.innerHTML = '<div class="empty-state"><i class="fas fa-cloud empty-icon"></i><h3>No iCloud accounts yet</h3><p>iCloud accounts will appear here</p></div>';
            }
        }
        
        // Update Tools Display
        function updateToolsDisplay() {
            // Clear current display
            toolsGrid.innerHTML = '';
            
            // Display tools
            if (tools.length > 0) {
                tools.forEach(tool => {
                    const toolElement = createToolElement(tool);
                    toolsGrid.appendChild(toolElement);
                });
            } else {
                toolsGrid.innerHTML = '<div class="empty-state"><i class="fas fa-tools empty-icon"></i><h3>No tools yet</h3><p>Tools will appear here</p></div>';
            }
        }
        
        // Create Account Element
        function createAccountElement(account) {
            const div = document.createElement('div');
            div.className = 'account-card';
            
            // Format followers count
            const followers = account.followers >= 1000 ? 
                `${(account.followers / 1000).toFixed(1)}k` : 
                account.followers;
            
            // Determine platform name for display
            let platformName = account.platform.charAt(0).toUpperCase() + account.platform.slice(1);
            if (account.platform === 'icloud-us') platformName = 'US iCloud';
            if (account.platform === 'icloud-ng') platformName = 'Nigeria iCloud';
            
            // Use account image or default placeholder
            const accountImage = account.image || defaultPlaceholderImages[account.platform] || defaultPlaceholderImages['facebook'];
            
            div.innerHTML = `
                <img src="${accountImage}" alt="${account.platform} account" class="account-image">
                <div class="account-platform">
                    <div class="platform-icon" style="background: ${platformColors[account.platform]}">
                        <i class="${platformIcons[account.platform]}"></i>
                    </div>
                    <div class="platform-name">${platformName}</div>
                    <span class="account-age ${account.isNew ? 'new-badge' : 'old-badge'}">${account.isNew ? 'NEW' : 'OLD'}</span>
                </div>
                <div class="account-info">
                    <h3>Account:</h3>
                    <p>${account.username}</p>
                    
                    <div class="account-details">
                        ${account.platform === 'vpn' ? '<div>VPN Service</div>' : `<div>Followers: ${followers}</div>`}
                        <div>Age: ${account.age} months</div>
                    </div>
                    
                    <div class="platform-tags">
                        <span class="platform-tag">${platformName}</span>
                        ${account.platform.includes('icloud') ? '<span class="platform-tag">Apple Account</span>' : ''}
                        ${account.platform === 'vpn' ? '<span class="platform-tag">Secure</span>' : ''}
                        <span class="platform-tag">${account.isNew ? 'New' : 'Old'}</span>
                    </div>
                    
                    <div class="account-price">
                        <span class="price">₦${account.price.toLocaleString('en-NG', {minimumFractionDigits: 2})}</span>
                        <button class="buy-account" data-id="${account.id}" data-type="account">Buy Now</button>
                    </div>
                </div>
            `;
            
            // Add delete button for admin users
            if (currentUser && currentUser.role === 'admin') {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-account-btn';
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.setAttribute('data-id', account.id);
                deleteBtn.setAttribute('data-type', 'account');
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const accountId = parseInt(e.target.closest('.delete-account-btn').getAttribute('data-id'));
                    deleteAccount(accountId);
                });
                div.querySelector('.account-platform').appendChild(deleteBtn);
            }
            
            // Add event listener to Buy Now button
            div.querySelector('.buy-account').addEventListener('click', () => addToCart(account.id, 'account'));
            
            return div;
        }
        
        // Create Tool Element
        function createToolElement(tool) {
            const div = document.createElement('div');
            div.className = 'tool-card';
            
            // Use tool image or default placeholder
            const toolImage = tool.image || defaultPlaceholderImages['tools'];
            
            div.innerHTML = `
                <img src="${toolImage}" alt="${tool.name}" class="tool-image">
                <div class="tool-category">
                    <div class="platform-icon tools-icon">
                        <i class="${toolCategoryIcons[tool.category] || 'fas fa-tools'}"></i>
                    </div>
                    <div class="platform-name">${tool.category.charAt(0).toUpperCase() + tool.category.slice(1)} Tool</div>
                </div>
                <div class="tool-info">
                    <div class="tool-name">${tool.name}</div>
                    <div class="tool-site">Site: ${tool.site}</div>
                    <div class="tool-description" style="font-size: 12px; color: var(--gray); margin-bottom: 10px;">${tool.description.substring(0, 60)}...</div>
                    <div class="tool-price">
                        <span class="price">₦${tool.price.toLocaleString('en-NG', {minimumFractionDigits: 2})}</span>
                        <button class="buy-account" data-id="${tool.id}" data-type="tool">Buy Now</button>
                    </div>
                </div>
                // Add delete button for admin users
            if (currentUser && currentUser.role === 'admin') {
                const deleteBtn = document.createElement('button');
                deleteBtn.className = 'delete-account-btn';
                deleteBtn.innerHTML = '<i class="fas fa-trash"></i>';
                deleteBtn.setAttribute('data-id', tool.id);
                deleteBtn.setAttribute('data-type', 'tool');
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const toolId = parseInt(e.target.closest('.delete-account-btn').getAttribute('data-id'));
                    deleteTool(toolId);
                });
                div.querySelector('.tool-category').appendChild(deleteBtn);
            }
            
            // Add event listener to Buy Now button
            div.querySelector('.buy-account').addEventListener('click', () => addToCart(tool.id, 'tool'));
            
            return div;
        }
        
        // Delete Account Function
        function deleteAccount(accountId) {
            if (!currentUser || currentUser.role !== 'admin') {
                showMessage(null, 'Only administrators can delete accounts', 'error');
                return;
            }
            
            // Confirm deletion
            if (confirm('Are you sure you want to delete this account?')) {
                accounts = accounts.filter(a => a.id !== accountId);
                localStorage.setItem('gracelordsocialhubAccounts', JSON.stringify(accounts));
                updateAccountsDisplay();
                showMessage(null, 'Account deleted successfully', 'success');
            }
        }
        
        // Delete Tool Function
        function deleteTool(toolId) {
            if (!currentUser || currentUser.role !== 'admin') {
                showMessage(null, 'Only administrators can delete tools', 'error');
                return;
            }
            
            // Confirm deletion
            if (confirm('Are you sure you want to delete this tool?')) {
                tools = tools.filter(t => t.id !== toolId);
                localStorage.setItem('gracelordsocialhubTools', JSON.stringify(tools));
                updateToolsDisplay();
                showMessage(null, 'Tool deleted successfully', 'success');
            }
        }
        
        // Update Cart Display
        function updateCartDisplay() {
            cartItemsContainer.innerHTML = '';
            
            if (cart.length > 0) {
                let subtotal = 0;
                
                cart.forEach(item => {
                    let itemTotal = 0;
                    let itemName = '';
                    let itemImage = '';
                    let itemType = item.type;
                    
                    if (item.type === 'account') {
                        const account = accounts.find(a => a.id === item.itemId);
                        if (account) {
                            itemTotal = account.price * item.quantity;
                            subtotal += itemTotal;
                            itemName = `${account.platform.charAt(0).toUpperCase() + account.platform.slice(1)} Account`;
                            itemImage = account.image || defaultPlaceholderImages[account.platform] || defaultPlaceholderImages['facebook'];
                        }
                    } else if (item.type === 'tool') {
                        const tool = tools.find(t => t.id === item.itemId);
                        if (tool) {
                            itemTotal = tool.price * item.quantity;
                            subtotal += itemTotal;
                            itemName = tool.name;
                            itemImage = tool.image || defaultPlaceholderImages['tools'];
                        }
                    }
                    
                    if (itemName) {
                        const cartItem = document.createElement('div');
                        cartItem.className = 'cart-item';
                        cartItem.innerHTML = `
                            <img src="${itemImage}" alt="${itemName}" class="cart-item-image">
                            <div class="cart-item-details">
                                <div style="display: flex; align-items: center; margin-bottom: 10px;">
                                    <div class="cart-item-platform" style="background: ${item.type === 'tool' ? 'var(--tools)' : 'var(--primary)'}">
                                        <i class="${item.type === 'tool' ? 'fas fa-tools' : 'fas fa-user'}"></i>
                                    </div>
                                    <div class="cart-item-name">${itemName}</div>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 10px;">
                                    <div class="cart-item-price">₦${(itemTotal / item.quantity).toLocaleString('en-NG', {minimumFractionDigits: 2})} × ${item.quantity}</div>
                                    <div style="font-weight: 700; color: var(--primary);">₦${itemTotal.toLocaleString('en-NG', {minimumFractionDigits: 2})}</div>
                                </div>
                                <div style="display: flex; gap: 10px; margin-top: 10px;">
                                    <button style="background: var(--danger); color: white; border: none; border-radius: 5px; padding: 5px 10px; font-size: 12px;" data-id="${item.itemId}" data-type="${item.type}" class="remove-from-cart">Remove</button>
                                    <button style="background: var(--accent); color: white; border: none; border-radius: 5px; padding: 5px 10px; font-size: 12px;" data-id="${item.itemId}" data-type="${item.type}" class="decrease-quantity">-</button>
                                    <span style="font-weight: 600;">${item.quantity}</span>
                                    <button style="background: var(--accent); color: white; border: none; border-radius: 5px; padding: 5px 10px; font-size: 12px;" data-id="${item.itemId}" data-type="${item.type}" class="increase-quantity">+</button>
                                </div>
                            </div>
                        `;
                        
                        cartItemsContainer.appendChild(cartItem);
                    }
                });
                
                // Add event listeners to cart buttons
                cartItemsContainer.querySelectorAll('.remove-from-cart').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const itemId = parseInt(e.target.getAttribute('data-id'));
                        const itemType = e.target.getAttribute('data-type');
                        removeFromCart(itemId, itemType);
                    });
                });
                
                cartItemsContainer.querySelectorAll('.decrease-quantity').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const itemId = parseInt(e.target.getAttribute('data-id'));
                        const itemType = e.target.getAttribute('data-type');
                        updateCartQuantity(itemId, itemType, -1);
                    });
                });
                
                cartItemsContainer.querySelectorAll('.increase-quantity').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const itemId = parseInt(e.target.getAttribute('data-id'));
                        const itemType = e.target.getAttribute('data-type');
                        updateCartQuantity(itemId, itemType, 1);
                    });
                });
                
                // Update summary (in Naira)
                const platformFee = 500.00;
                const total = subtotal + platformFee;
                
                subtotalElement.textContent = `₦${subtotal.toLocaleString('en-NG', {minimumFractionDigits: 2})}`;
                shippingElement.textContent = `₦${platformFee.toLocaleString('en-NG', {minimumFractionDigits: 2})}`;
                totalElement.textContent = `₦${total.toLocaleString('en-NG', {minimumFractionDigits: 2})}`;
                
                cartSummary.style.display = 'block';
                cartCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCount.style.display = 'block';
            } else {
                cartItemsContainer.innerHTML = '<div class="empty-state"><i class="fas fa-shopping-cart empty-icon"></i><h3>Your cart is empty</h3><p>Add some items to your cart</p></div>';
                cartSummary.style.display = 'none';
                cartCount.style.display = 'none';
            }
            
            localStorage.setItem('gracelordsocialhubCart', JSON.stringify(cart));
        }
        
        // Add to Cart
        function addToCart(itemId, itemType) {
            if (!currentUser) {
                showMessage(null, 'Please login to add items to cart', 'error');
                return;
            }
            
            const existingItem = cart.find(item => item.itemId === itemId && item.type === itemType);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    itemId: itemId,
                    type: itemType,
                    quantity: 1
                });
            }
            
            updateCartDisplay();
            
            // Show feedback
            if (itemType === 'account') {
                const account = accounts.find(a => a.id === itemId);
                if (account) {
                    let platformName = account.platform.charAt(0).toUpperCase() + account.platform.slice(1);
                    if (account.platform === 'icloud-us') platformName = 'US iCloud';
                    if (account.platform === 'icloud-ng') platformName = 'Nigeria iCloud';
                    showMessage(null, `Added ${platformName} account to cart!`, 'success');
                }
            } else if (itemType === 'tool') {
                const tool = tools.find(t => t.id === itemId);
                if (tool) {
                    showMessage(null, `Added ${tool.name} to cart!`, 'success');
                }
            }
        }
        
        // Remove from Cart
        function removeFromCart(itemId, itemType) {
            cart = cart.filter(item => !(item.itemId === itemId && item.type === itemType));
            updateCartDisplay();
        }
        
        // Update Cart Quantity
        function updateCartQuantity(itemId, itemType, change) {
            const item = cart.find(item => item.itemId === itemId && item.type === itemType);
            
            if (item) {
                item.quantity += change;
                
                if (item.quantity <= 0) {
                    removeFromCart(itemId, itemType);
                } else {
                    updateCartDisplay();
                }
            }
        }
        
        // Update My Orders Display
        function updateMyOrdersDisplay() {
            myOrdersContainer.innerHTML = '';
            
            const userOrders = orders.filter(order => order.userId === currentUser.id);
            
            if (userOrders.length > 0) {
                userOrders.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(order => {
                    const orderElement = createOrderElement(order, true);
                    myOrdersContainer.appendChild(orderElement);
                });
            } else {
                myOrdersContainer.innerHTML = '<div class="empty-state"><i class="fas fa-clipboard-list empty-icon"></i><h3>No orders yet</h3><p>Your orders will appear here</p></div>';
            }
        }
        
        // Update Admin Dashboard
        function updateAdminDashboard() {
            // Calculate statistics
            const totalOrdersCount = orders.length;
            const pendingOrdersCount = orders.filter(o => o.status === 'pending').length;
            const completedOrdersCount = orders.filter(o => o.status === 'completed').length;
            const totalRevenueAmount = orders
                .filter(o => o.status === 'completed')
                .reduce((sum, order) => sum + order.total, 0);
            
            // Update stats
            totalOrders.textContent = totalOrdersCount;
            pendingOrders.textContent = pendingOrdersCount;
            completedOrders.textContent = completedOrdersCount;
            totalRevenue.textContent = `₦${totalRevenueAmount.toLocaleString('en-NG', {minimumFractionDigits: 2})}`;
            
            // Update orders list
            adminOrdersContainer.innerHTML = '';
            
            if (orders.length > 0) {
                orders.sort((a, b) => new Date(b.date) - new Date(a.date)).forEach(order => {
                    const orderElement = createOrderElement(order, false);
                    adminOrdersContainer.appendChild(orderElement);
                });
            } else {
                adminOrdersContainer.innerHTML = '<div class="empty-state"><i class="fas fa-clipboard-list empty-icon"></i><h3>No orders yet</h3><p>Customer orders will appear here</p></div>';
            }
        }
        
        // Create Order Element
        function createOrderElement(order, isUserView = false) {
            const orderDiv = document.createElement('div');
            orderDiv.className = 'order-row';
            
            let itemName = '';
            let itemPlatform = 'fas fa-shopping-bag';
            let itemPlatformColor = 'var(--primary)';
            
            if (order.type === 'account') {
                const account = accounts.find(a => a.id === order.itemId);
                if (account) {
                    itemName = `${account.platform.charAt(0).toUpperCase() + account.platform.slice(1)} Account`;
                    itemPlatform = platformIcons[account.platform];
                    itemPlatformColor = platformColors[account.platform];
                }
            } else if (order.type === 'tool') {
                const tool = tools.find(t => t.id === order.itemId);
                if (tool) {
                    itemName = tool.name;
                    itemPlatform = toolCategoryIcons[tool.category] || 'fas fa-tools';
                    itemPlatformColor = 'var(--tools)';
                }
            }
            
            const statusClass = `status-${order.status}`;
            const statusText = order.status === 'pending' ? 'Pending Payment' : 
                              order.status === 'completed' ? 'Completed' : 'Cancelled';
            
            orderDiv.innerHTML = `
                <div class="order-platform" style="background: ${itemPlatformColor}">
                    <i class="${itemPlatform}"></i>
                </div>
                <div class="order-info">
                    <div class="order-details">
                        <h4>${itemName}</h4>
                        <p>Order ID: ${order.id}</p>
                        <p>Date: ${new Date(order.date).toLocaleDateString()}</p>
                        <p>Amount: ₦${order.total.toLocaleString('en-NG', {minimumFractionDigits: 2})}</p>
                        <span class="order-status ${statusClass}">${statusText}</span>
                    </div>
                </div>
            `;
            
            // Add actions based on view and status
            const actionsDiv = document.createElement('div');
            actionsDiv.className = 'order-actions';
            
            if (isUserView) {
                if (order.status === 'completed') {
                    const viewBtn = document.createElement('button');
                    viewBtn.className = 'order-btn view-btn';
                    viewBtn.innerHTML = '<i class="fas fa-eye"></i> View Details';
                    viewBtn.addEventListener('click', () => showOrderDetails(order));
                    actionsDiv.appendChild(viewBtn);
                } else if (order.status === 'pending') {
                    const pendingText = document.createElement('span');
                    pendingText.style.color = 'var(--gray)';
                    pendingText.textContent = 'Awaiting confirmation';
                    actionsDiv.appendChild(pendingText);
                }
            } else {
                // Admin view
                if (order.status === 'pending') {
                    const confirmBtn = document.createElement('button');
                    confirmBtn.className = 'order-btn confirm-btn';
                    confirmBtn.innerHTML = '<i class="fas fa-check"></i> Confirm Payment';
                    confirmBtn.addEventListener('click', () => confirmOrderPayment(order.id));
                    actionsDiv.appendChild(confirmBtn);
                } else if (order.status === 'completed') {
                    const completedText = document.createElement('span');
                    completedText.style.color = 'var(--success)';
                    completedText.innerHTML = '<i class="fas fa-check-circle"></i> Completed';
                    actionsDiv.appendChild(completedText);
                }
                
                // Admin can always view details
                const viewBtn = document.createElement('button');
                viewBtn.className = 'order-btn view-btn';
                viewBtn.innerHTML = '<i class="fas fa-eye"></i> View';
                viewBtn.addEventListener('click', () => showOrderDetails(order));
                actionsDiv.appendChild(viewBtn);
            }
            
            orderDiv.appendChild(actionsDiv);
            return orderDiv;
        }
        
        // Show order details
        function showOrderDetails(order) {
            let itemDetails = '';
            let itemName = '';
            let credentials = '';
            
            if (order.type === 'account') {
                const account = accounts.find(a => a.id === order.itemId);
                if (account) {
                    itemName = `${account.platform.charAt(0).toUpperCase() + account.platform.slice(1)} Account`;
                    credentials = `
                        <div class="credential-item">
                            <div class="credential-label">Username/Email:</div>
                            <div class="credential-value">${account.username}</div>
                        </div>
                        <div class="credential-item">
                            <div class="credential-label">Password:</div>
                            <div class="credential-value">${account.password}</div>
                        </div>
                        <div class="credential-item">
                            <div class="credential-label">Phone/Recovery Email:</div>
                            <div class="credential-value">${account.phone}</div>
                        </div>
                    `;
                }
            } else if (order.type === 'tool') {
                const tool = tools.find(t => t.id === order.itemId);
                if (tool) {
                    itemName = tool.name;
                    credentials = `
                        <div class="credential-item">
                            <div class="credential-label">Tool Description:</div>
                            <div class="credential-value">${tool.description}</div>
                        </div>
                    `;
                }
            }
            
            accountDetailsContent.innerHTML = `
                <div class="account-credentials ${order.status === 'completed' ? 'credentials-revealed' : ''}">
                    <div class="credentials-title">
                        <i class="fas fa-box"></i> Order Details
                    </div>
                    <div class="credential-item">
                        <div class="credential-label">Item:</div>
                        <div class="credential-value">${itemName}</div>
                    </div>
                    ${order.status === 'completed' ? credentials : ''}
                    <div class="credential-item">
                        <div class="credential-label">Order ID:</div>
                        <div class="credential-value">${order.id}</div>
                    </div>
                    <div class="credential-item">
                        <div class="credential-label">Order Date:</div>
                        <div class="credential-value">${new Date(order.date).toLocaleString()}</div>
                    </div>
                    <div class="credential-item">
                        <div class="credential-label">Order Amount:</div>
                        <div class="credential-value">₦${order.total.toLocaleString('en-NG', {minimumFractionDigits: 2})}</div>
                    </div>
                </div>
                ${order.status !== 'completed' ? `
                <div style="margin-top: 20px; text-align: center;">
                    <p style="color: var(--secondary); font-size: 12px;">
                        <i class="fas fa-info-circle"></i> Credentials will be visible after payment confirmation
                    </p>
                </div>
                ` : ''}
            `;
            accountDetailsModal.style.display = 'flex';
        }
        
        // Confirm order payment
        function confirmOrderPayment(orderId) {
            const order = orders.find(o => o.id === orderId);
            if (!order) return;
            
            order.status = 'completed';
            localStorage.setItem('gracelordsocialhubOrders', JSON.stringify(orders));
            
            updateAdminDashboard();
            updateMyOrdersDisplay();
            
            showMessage(null, `Order ${orderId} confirmed successfully!`, 'success');
        }
        
        // Validation Functions
        function validateEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        function validatePassword(password) {
            // At least 6 characters, containing letters and numbers
            const re = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@$!%*#?&]{6,}$/;
            return re.test(password);
        }
        
        function checkPasswordStrength(password) {
            if (password.length === 0) return 'empty';
            if (password.length < 6) return 'weak';
            
            const hasLetters = /[A-Za-z]/.test(password);
            const hasNumbers = /\d/.test(password);
            const hasSpecial = /[@$!%*#?&]/.test(password);
            
            if (hasLetters && hasNumbers && hasSpecial) return 'strong';
            if (hasLetters && hasNumbers) return 'medium';
            return 'weak';
        }
        
        function setupPasswordStrength() {
            const passwordInput = document.getElementById('registerPassword');
            
            passwordInput.addEventListener('input', function() {
                const password = this.value;
                const strength = checkPasswordStrength(password);
                const strengthBar = document.getElementById('passwordStrengthBar');
                
                // Reset classes
                strengthBar.className = 'password-strength-bar';
                
                // Update based on strength
                if (strength === 'empty') {
                    strengthBar.style.width = '0%';
                } else if (strength === 'weak') {
                    strengthBar.classList.add('strength-weak');
                } else if (strength === 'medium') {
                    strengthBar.classList.add('strength-medium');
                } else if (strength === 'strong') {
                    strengthBar.classList.add('strength-strong');
                }
            });
        }
        
        // Message display functions
        function showMessage(element, text, type) {
            if (!element) {
                // Create a temporary message if no element provided
                const tempMsg = document.createElement('div');
                tempMsg.className = `message ${type}`;
                tempMsg.textContent = text;
                tempMsg.style.position = 'fixed';
                tempMsg.style.top = '70px';
                tempMsg.style.left = '50%';
                tempMsg.style.transform = 'translateX(-50%)';
                tempMsg.style.zIndex = '3000';
                tempMsg.style.width = '90%';
                tempMsg.style.maxWidth = '400px';
                
                document.body.appendChild(tempMsg);
                
                setTimeout(() => {
                    tempMsg.remove();
                }, 3000);
                return;
            }
            
            element.textContent = text;
            element.className = `message ${type}`;
            element.style.display = 'block';
            
            // Auto-hide after 3 seconds
            setTimeout(() => {
                element.style.display = 'none';
            }, 3000);
        }
        
        function clearMessages() {
            loginMessage.style.display = 'none';
            registerMessage.style.display = 'none';
        }
        
        // File preview function
        function previewImage(file, previewElement) {
            const reader = new FileReader();
            
            reader.onload = function(e) {
                previewElement.innerHTML = `
                    <img src="${e.target.result}" class="preview-image" alt="Preview">
                    <p>${file.name} (${(file.size / 1024).toFixed(2)} KB)</p>
                `;
            };
            
            reader.readAsDataURL(file);
        }
        
        // Setup Event Listeners
        function setupEventListeners() {
            // Image file upload preview
            accountImageFile.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    previewImage(this.files[0], accountImagePreview);
                }
            });
            
            toolImageFile.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    previewImage(this.files[0], toolImagePreview);
                }
            });
            
            // Payment proof preview
            paymentProof.addEventListener('change', function(e) {
                if (this.files && this.files[0]) {
                    previewImage(this.files[0], paymentProofPreview);
                }
            });
            
            // Modal open/close
            openAccountUploadBtn.addEventListener('click', () => {
                if (!currentUser) {
                    showMessage(null, 'Please login to upload accounts', 'error');
                    return;
                }
                if (currentUser.role !== 'admin') {
                    showMessage(null, 'Only administrators can upload accounts', 'error');
                    return;
                }
                accountUploadModal.style.display = 'flex';
            });
            
            // Home page upload buttons
            if (openAccountUploadFromHome) {
                openAccountUploadFromHome.addEventListener('click', () => {
                    if (!currentUser) {
                        showMessage(null, 'Please login to upload accounts', 'error');
                        return;
                    }
                    if (currentUser.role !== 'admin') {
                        showMessage(null, 'Only administrators can upload accounts', 'error');
                        return;
                    }
                    accountUploadModal.style.display = 'flex';
                });
            }
            
            if (openToolsUploadFromHome) {
                openToolsUploadFromHome.addEventListener('click', () => {
                    if (!currentUser) {
                        showMessage(null, 'Please login to upload tools', 'error');
                        return;
                    }
                    if (currentUser.role !== 'admin') {
                        showMessage(null, 'Only administrators can upload tools', 'error');
                        return;
                    }
                    toolsUploadModal.style.display = 'flex';
                });
            }
            
            // Floating upload button
            floatUploadBtn.addEventListener('click', () => {
                if (!currentUser || currentUser.role !== 'admin') {
                    return;
                }
                
                if (uploadOptions.style.display === 'flex') {
                    uploadOptions.style.display = 'none';
                } else {
                    uploadOptions.style.display = 'flex';
                }
            });
            
            // Floating account upload
            floatAccountUpload.addEventListener('click', () => {
                if (!currentUser) {
                    showMessage(null, 'Please login to upload accounts', 'error');
                    return;
                }
                if (currentUser.role !== 'admin') {
                    showMessage(null, 'Only administrators can upload accounts', 'error');
                    return;
                }
                accountUploadModal.style.display = 'flex';
                uploadOptions.style.display = 'none';
            });
            
            // Floating tools upload
            floatToolsUpload.addEventListener('click', () => {
                if (!currentUser) {
                    showMessage(null, 'Please login to upload tools', 'error');
                    return;
                }
                if (currentUser.role !== 'admin') {
                    showMessage(null, 'Only administrators can upload tools', 'error');
                    return;
                }
                toolsUploadModal.style.display = 'flex';
                uploadOptions.style.display = 'none';
            });
            
            closeAccountModalBtn.addEventListener('click', () => {
                accountUploadModal.style.display = 'none';
                accountUploadForm.reset();
                accountImagePreview.innerHTML = '';
                // Reset platform selection
                const platformOptions = document.querySelectorAll('.platform-option');
                if (platformOptions.length > 0) {
                    platformOptions[0].click();
                }
            });
            
            closeToolsModalBtn.addEventListener('click', () => {
                toolsUploadModal.style.display = 'none';
                toolsUploadForm.reset();
                toolImagePreview.innerHTML = '';
            });
            
            // Payment method selection
            paymentMethods.forEach(method => {
                method.addEventListener('click', function() {
                    paymentMethods.forEach(m => m.classList.remove('selected'));
                    this.classList.add('selected');
                    document.getElementById('selectedPaymentMethod').value = this.getAttribute('data-method');
                    
                    // Show bank details when bank transfer is selected
                    if (this.getAttribute('data-method') === 'bank') {
                        bankDetailsSection.style.display = 'block';
                    } else {
                        bankDetailsSection.style.display = 'none';
                    }
                });
            });
            
            // Close modals when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === accountUploadModal) {
                    accountUploadModal.style.display = 'none';
                    accountUploadForm.reset();
                    accountImagePreview.innerHTML = '';
                    // Reset platform selection
                    const platformOptions = document.querySelectorAll('.platform-option');
                    if (platformOptions.length > 0) {
                        platformOptions[0].click();
                    }
                }
                
                if (e.target === toolsUploadModal) {
                    toolsUploadModal.style.display = 'none';
                    toolsUploadForm.reset();
                    toolImagePreview.innerHTML = '';
                }
                
                if (e.target === paymentModal) {
                    paymentModal.style.display = 'none';
                }
                
                if (e.target === accountDetailsModal) {
                    accountDetailsModal.style.display = 'none';
                }
                
                // Close floating upload options when clicking outside
                if (e.target !== floatUploadBtn && e.target !== uploadOptions && 
                    !uploadOptions.contains(e.target) && !floatUploadBtn.contains(e.target)) {
                    uploadOptions.style.display = 'none';
                }
            });
            
            // Account upload form - UPDATED
            accountUploadForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                if (!currentUser || currentUser.role !== 'admin') {
                    showMessage(null, 'Unauthorized access', 'error');
                    return;
                }
                
                if (!selectedPlatformInput.value) {
                    showMessage(null, 'Please select a platform', 'error');
                    return;
                }
                
                // Get form values
                const username = document.getElementById('accountUsername').value;
                const password = document.getElementById('accountPassword').value;
                const phone = document.getElementById('accountPhone').value;
                const followers = document.getElementById('accountFollowers').value;
                const age = document.getElementById('accountAge').value;
                const price = document.getElementById('accountPrice').value;
                const description = document.getElementById('accountDescription').value;
                
                // Validate required fields
                if (!username || !password || !phone || !followers || !age || !price) {
                    showMessage(null, 'Please fill in all required fields', 'error');
                    return;
                }
                
                // Create new account
                const newAccount = {
                    id: accounts.length > 0 ? Math.max(...accounts.map(a => a.id)) + 1 : 1,
                    platform: selectedPlatformInput.value,
                    username: username,
                    password: password,
                    phone: phone,
                    followers: parseInt(followers),
                    age: parseInt(age),
                    price: parseFloat(price),
                    description: description,
                    dateAdded: new Date().toISOString(),
                    isNew: true
                };
                
                // Handle image upload if provided
                if (accountImageFile.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        newAccount.image = e.target.result;
                        saveAccountAndUpdate(newAccount);
                    };
                    reader.readAsDataURL(accountImageFile.files[0]);
                } else {
                    // No image provided, use default placeholder
                    newAccount.image = null;
                    saveAccountAndUpdate(newAccount);
                }
            });
            
            // Helper function to save account and update display
            function saveAccountAndUpdate(newAccount) {
                accounts.push(newAccount);
                localStorage.setItem('gracelordsocialhubAccounts', JSON.stringify(accounts));
                
                // Update displays immediately
                updateAccountsDisplay();
                
                // Show success message
                let platformName = newAccount.platform.charAt(0).toUpperCase() + newAccount.platform.slice(1);
                if (newAccount.platform === 'icloud-us') platformName = 'US iCloud';
                if (newAccount.platform === 'icloud-ng') platformName = 'Nigeria iCloud';
                
                showMessage(null, `${platformName} account uploaded successfully!`, 'success');
                
                // Reset form and close modal
                accountUploadForm.reset();
                accountImagePreview.innerHTML = '';
                
                // Reset platform selection
                const platformOptions = document.querySelectorAll('.platform-option');
                if (platformOptions.length > 0) {
                    platformOptions[0].click();
                }
                
                accountUploadModal.style.display = 'none';
            }
            
            // Tools upload form - UPDATED
            toolsUploadForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                if (!currentUser || currentUser.role !== 'admin') {
                    showMessage(null, 'Unauthorized access', 'error');
                    return;
                }
                
                // Get form values
                const name = document.getElementById('toolName').value;
                const category = document.getElementById('toolCategory').value;
                const site = document.getElementById('toolSite').value;
                const price = document.getElementById('toolPrice').value;
                const description = document.getElementById('toolDescription').value;
                
                // Validate required fields
                if (!name || !category || !site || !price || !description) {
                    showMessage(null, 'Please fill in all required fields', 'error');
                    return;
                }
                
                // Create new tool
                const newTool = {
                    id: tools.length > 0 ? Math.max(...tools.map(t => t.id)) + 1 : 1,
                    name: name,
                    category: category,
                    site: site,
                    price: parseFloat(price),
                    description: description,
                    dateAdded: new Date().toISOString()
                };
                
                // Handle image upload if provided
                if (toolImageFile.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        newTool.image = e.target.result;
                        saveToolAndUpdate(newTool);
                    };
                    reader.readAsDataURL(toolImageFile.files[0]);
                } else {
                    // No image provided, use default placeholder
                    newTool.image = null;
                    saveToolAndUpdate(newTool);
                }
            });
            
            // Helper function to save tool and update display
            function saveToolAndUpdate(newTool) {
                tools.push(newTool);
                localStorage.setItem('gracelordsocialhubTools', JSON.stringify(tools));
                
                // Update displays immediately
                updateToolsDisplay();
                
                // Show success message
                showMessage(null, `${newTool.name} uploaded successfully!`, 'success');
                
                // Reset form and close modal
                toolsUploadForm.reset();
                toolImagePreview.innerHTML = '';
                
                toolsUploadModal.style.display = 'none';
            }
            
            // Tab switching
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    const tabType = tab.getAttribute('data-tab');
                    
                    // Hide all grids
                    accountsGrid.style.display = 'none';
                    icloudGrid.style.display = 'none';
                    toolsGrid.style.display = 'none';
                    myOrdersContainer.style.display = 'none';
                    
                    // Show selected grid
                    if (tabType === 'accounts') {
                        accountsGrid.style.display = 'grid';
                    } else if (tabType === 'icloud') {
                        icloudGrid.style.display = 'grid';
                    } else if (tabType === 'tools') {
                        toolsGrid.style.display = 'grid';
                    } else if (tabType === 'my-orders') {
                        myOrdersContainer.style.display = 'block';
                        updateMyOrdersDisplay();
                    }
                });
            });
            
            // Navigation
            navItems.forEach(item => {
                item.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    if (!currentUser) {
                        showMessage(null, 'Please login to access this section', 'error');
                        return;
                    }
                    
                    navItems.forEach(nav => nav.classList.remove('active'));
                    item.classList.add('active');
                    
                    pages.forEach(page => page.classList.remove('active'));
                    const pageId = item.getAttribute('data-page');
                    document.getElementById(pageId).classList.add('active');
                    
                    // Hide floating upload options when navigating
                    uploadOptions.style.display = 'none';
                });
            });
            
            // Admin dashboard navigation
            if (goToDashboard) {
                goToDashboard.addEventListener('click', () => {
                    pages.forEach(page => page.classList.remove('active'));
                    adminDashboardPage.classList.add('active');
                    updateAdminDashboard();
                });
            }
            
            if (backToHome) {
                backToHome.addEventListener('click', () => {
                    pages.forEach(page => page.classList.remove('active'));
                    document.getElementById('home-page').classList.add('active');
                    updateNavActive('home-page');
                });
            }
            
            // Telegram button
            telegramBtn.addEventListener('click', () => {
                const telegramUrl = `https://t.me/${telegramPhone.replace('+', '')}`;
                window.open(telegramUrl, '_blank');
            });
            
            // WhatsApp button
            whatsappBtn.addEventListener('click', () => {
                // Format phone number for WhatsApp (remove spaces and plus)
                const formattedPhone = whatsappPhone.replace(/\s+/g, '').replace('+', '');
                const whatsappUrl = `https://wa.me/${formattedPhone}`;
                window.open(whatsappUrl, '_blank');
            });
            
            // Login form
            loginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                if (!email || !password) {
                    showMessage(loginMessage, 'Please fill in all fields', 'error');
                    return;
                }
                
                loginUser(email, password);
            });
            
            // Register form
            registerForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const name = document.getElementById('registerName').value;
                const email = document.getElementById('registerEmail').value;
                const phone = document.getElementById('registerPhone').value;
                const country = document.getElementById('registerCountry').value;
                const password = document.getElementById('registerPassword').value;
                const confirmPassword = document.getElementById('registerConfirmPassword').value;
                
                // Validate all fields are filled
                if (!name || !email || !phone || !country || !password || !confirmPassword) {
                    showMessage(registerMessage, 'Please fill in all fields', 'error');
                    return;
                }
                
                if (password !== confirmPassword) {
                    showMessage(registerMessage, 'Passwords do not match', 'error');
                    return;
                }
                
                if (password.length < 6) {
                    showMessage(registerMessage, 'Password must be at least 6 characters long', 'error');
                    return;
                }
                
                const userData = {
                    name: name,
                    email: email,
                    phone: phone,
                    country: country,
                    password: password
                };
                
                registerUser(userData);
            });
            
            // Switch between login and register
            switchToRegisterBtn.addEventListener('click', (e) => {
                e.preventDefault();
                clearMessages();
                document.getElementById('login-page').classList.remove('active');
                document.getElementById('register-page').classList.add('active');
            });
            
            switchToLoginBtn.addEventListener('click', (e) => {
                e.preventDefault();
                clearMessages();
                document.getElementById('register-page').classList.remove('active');
                document.getElementById('login-page').classList.add('active');
            });
            
            // Logout
            logoutBtn.addEventListener('click', (e) => {
                e.preventDefault();
                logoutUser();
                showMessage(null, 'Logged out successfully', 'success');
            });
            
            // Proceed to checkout
            proceedToCheckout.addEventListener('click', () => {
                if (cart.length === 0) {
                    showMessage(null, 'Your cart is empty', 'error');
                    return;
                }
                
                // Calculate total
                const subtotal = cart.reduce((sum, item) => {
                    if (item.type === 'account') {
                        const account = accounts.find(a => a.id === item.itemId);
                        return sum + (account ? account.price * item.quantity : 0);
                    } else if (item.type === 'tool') {
                        const tool = tools.find(t => t.id === item.itemId);
                        return sum + (tool ? tool.price * item.quantity : 0);
                    }
                    return sum;
                }, 0);
                const platformFee = 500.00;
                const total = subtotal + platformFee;
                
                // Update payment modal
                paymentAmount.textContent = `₦${total.toLocaleString('en-NG', {minimumFractionDigits: 2})}`;
                paymentItems.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
                
                // Show payment modal
                paymentModal.style.display = 'flex';
                paymentProofPreview.innerHTML = '';
                bankDetailsSection.style.display = 'none'; // Hide bank details initially
                
                // Reset payment method selection
                paymentMethods.forEach(m => m.classList.remove('selected'));
                if (paymentMethods.length > 0) {
                    paymentMethods[0].click();
                }
            });
            
            // Close payment modal
            closePaymentModalBtn.addEventListener('click', () => {
                paymentModal.style.display = 'none';
            });
            
            // Close account details modal
            closeAccountDetailsModal.addEventListener('click', () => {
                accountDetailsModal.style.display = 'none';
            });
            
            // Submit payment
            submitPayment.addEventListener('click', () => {
                if (!document.getElementById('selectedPaymentMethod').value) {
                    showMessage(null, 'Please select a payment method', 'error');
                    return;
                }
                
                if (!paymentProof.files[0]) {
                    showMessage(null, 'Please upload payment proof', 'error');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    // Create orders for each cart item
                    cart.forEach(item => {
                        let orderTotal = 0;
                        let itemName = '';
                        
                        if (item.type === 'account') {
                            const account = accounts.find(a => a.id === item.itemId);
                            if (account) {
                                orderTotal = account.price * item.quantity + 500;
                                itemName = account.platform;
                            }
                        } else if (item.type === 'tool') {
                            const tool = tools.find(t => t.id === item.itemId);
                            if (tool) {
                                orderTotal = tool.price * item.quantity + 500;
                                itemName = tool.name;
                            }
                        }
                        
                        if (orderTotal > 0) {
                            const order = {
                                id: `ORD${Date.now()}${Math.floor(Math.random() * 1000)}`,
                                userId: currentUser.id,
                                itemId: item.itemId,
                                type: item.type,
                                itemName: itemName,
                                quantity: item.quantity,
                                total: orderTotal,
                                paymentMethod: document.getElementById('selectedPaymentMethod').value,
                                paymentProof: e.target.result,
                                status: 'pending',
                                date: new Date().toISOString()
                            };
                            orders.push(order);
                        }
                    });
                    
                    localStorage.setItem('gracelordsocialhubOrders', JSON.stringify(orders));
                    
                    // Clear cart
                    cart = [];
                    localStorage.setItem('gracelordsocialhubCart', JSON.stringify(cart));
                    
                    // Update displays
                    updateCartDisplay();
                    updateMyOrdersDisplay();
                    updateAdminDashboard();
                    
                    // Close modal and show success
                    paymentModal.style.display = 'none';
                    showMessage(null, 'Payment submitted successfully! Waiting for admin confirmation.', 'success');
                    
                    // Navigate to my orders
                    myOrdersTab.click();
                };
                
                reader.readAsDataURL(paymentProof.files[0]);
            });
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
